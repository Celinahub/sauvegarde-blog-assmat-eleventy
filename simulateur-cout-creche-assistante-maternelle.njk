---
layout: layouts/base.njk
title: "Coût crèche vs assistante maternelle 2025 – Estimez en ligne"
description: "Comparez le reste à charge entre assistante maternelle, crèche PSU et PAJE grâce au 1er simulateur comparatif en ligne 2025."
url: "https://chubert91assmat.netlify.app/simulateur-cout-creche-assistante-maternelle/"
image: "projet-accueil-assistante-maternelle.jpg"
eleventyNavigation:
  key: SIMULATION COÛT CRÈCHE/ASSMAT 2025
  order: 5
permalink: "/simulateur-cout-creche-assistante-maternelle/"
bodyClass: "bg-white simulateur-cout-creche-assistante-maternelle"
---

    
<!-- Icône de défilement vers le haut utilisant une image SVG -->
<a href="#simulateur-reforme-cmg-assmat-creche" class="scroll-to-top">
    <img class="rocket-icon" src="../images/rocket-svgrepo-com.svg" alt="Icône de fusée pour remonter en haut de la page projet d'accueil" />
</a>





<section id="simulateur-reforme-cmg-assmat-creche" class="container-fluid py-5 position-relative">

<div class="reforme-cmg-container">
        <h1 class="poppins-bold-titre-reforme-cmg">Simulateur Réforme CMG 2025</h1>
        <a href="https://chubert91assmat.netlify.app/posts/petite-enfance-bretigny-91/choix-mode-de-garde-bretigny/#differenciation" class="btn btn-action-primary my-1" aria-label="Lire l'article sur le choix d'un mode de garde par une assistante maternelle en Essonne">
              Découvrir la solution gagnante qu'offre une assistante maternelle →
            </a>
    </div>

    
        </div>
    </div>
</section>







<div class="svg-banniere-background">
     <div class="svg-container">
    <img src="{{ '/images/projet-accueil/nuage-bienvenue-pc.svg' | url }}" 
         class="nuages-bleus-curvy pc-svg" 
         alt="Illustration de nuages pour la présentation du blog sur PC"
         loading="lazy">
    
    <img src="{{ '/images/projet-accueil/nuage-bienvenue-mobile.svg' | url }}" 
         class="nuages-bleus-curvy mobile-svg" 
         alt="Illustration de nuages pour la présentation du blog sur mobile"
         loading="lazy">
</div>



<section id="comparer-creche-assistante-maternelle">
  <div class="container-service container-md">
  <h2 class="poppins-bold-service-title mb-5">COMPAREZ & ESTIMEZ</h2>

   

 <div class="row gy-4">
      <!-- Carte 1 -->
      <div class="col-12">
        <div class="comparatif-card h-100 p-4">
          <h3 class="fs-5 fw-bold poppins-regular d-flex align-items-center mb-3">
            <span class="comparatif-icon-wrapper me-2">
              <img src="{{ '/images/projet-accueil/securite/communication-assmat-bretigny.svg' | url }}" class="bien-etre-icon" alt="Icône communication" loading="lazy">
            </span>
            Comparez les solutions pour faire le bon choix 
          </h3>
          <ul class="poppins-regular-comparatif">
          <li>Le résultat de cette simulation est indicatif, sans valeur contractuelle, et aucune donnée n'est conservée.</li>
          <li>Barème estimatif selon les tarifs courants en micro-crèche PAJE (7,65 € à 9,50 €/h, plafonné à 10 €/h).</li>
          <li>
            <a href="https://www.urssaf.fr/accueil/outils-documentation/simulateurs/calculer-reste-a-charge-cmg-pe.html" target="_blank" class="styled-link">Simulateur</a> officiel URSSAF pour le CMG chez une assistante maternelle.</li>
          <li>
            <a href="https://monenfant.fr/simuler-le-cout-en-creche" target="_blank" class="styled-link">Simulateur</a> officiel CAF pour la crèche PSU (monenfant.fr).</li>
          </ul>

<div class="exemple-container">
  <a href="#exemples-cout-reel-assistante-maternelle" class="btn btn-action-primary">
    Consultez des exemples concrets →
  </a>
</div>

        </div>
      </div>


     <!-- Carte 2 -->
      <div class="col-12">
        <div class="comparatif-card h-100 p-4">
          <h3 class="fs-5 fw-bold poppins-regular d-flex align-items-center mb-3">
            <span class="comparatif-icon-wrapper me-2">
              <img src="{{ '/images/simulateur/idee-simulateur-bretigny.svg' | url }}" class="idee-icon" alt="Icône communication" loading="lazy">
            </span>
           Pourquoi proposer ce simulateur ?
          </h3>
          <ul class="poppins-regular-comparatif">
            <li><strong>Gain de temps :</strong> Comparez instantanément les restes à charge des trois modes d’accueil, réunis pour la première fois sur une seule page.</li>
          <li><strong>Manque d’info :</strong> Les différences de calcul entre crèches PSU, crèches PAJE et assistantes maternelles rendent la comparaison difficile.</li>
           <li><strong>Décision biaisée :</strong> Le choix du mode d’accueil se fait rarement sur le coût réel.</li>
          <li><strong>Idée reçue :</strong> La crèche semble moins chère… mais ce n’est pas toujours vrai.</li>
           <li><strong>Tarifs justes et adaptés :</strong> Ce simulateur me permet d’ajuster mes tarifs pour qu’ils restent cohérents avec les autres solutions d’accueil proposées aux familles du secteur, à condition d'assurer la pérennité de mon activité.</li>
          </ul>

        </div>
      </div>


    <div class="row">
      <div class="container my-5">

       
      <h2 class="poppins-regular-simulateur mb-5">
  Simulateur CMG 2025 – une solution adaptée à mon profil
</h2>







  <form id="simulateur-form" class="row g-4">
  <!-- Situation familiale -->
  <div class="col-md-6">
    <label class="form-label poppins-regular-simucmg">Situation familiale</label>
    <div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="situation" value="couple" id="situationCouple" checked required>
        <label class="form-check-label poppins-regular-simucmg" for="situationCouple">Couple</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="situation" value="mono" id="situationMono" required>
        <label class="form-check-label poppins-regular-simucmg" for="situationMono">Parent isolé</label>
      </div>
    </div>
  </div>



<div class="col-md-6">
  <label for="nbEnfants" class="form-label poppins-regular-simucmg">Nombre d’enfants à charge</label>
  <input type="number" class="simu-control styled-input" id="nbEnfants" name="nbEnfants" min="1" max="4" required>
</div>



  <!-- Ressources -->
<div class="col-md-6">
  <label for="revenu" class="form-label poppins-regular-simucmg">Ressources annuelles 2023 (€)</label>
  <input 
    type="number" 
    class="simu-control styled-input" 
    id="revenu" 
    name="revenu" 
    min="0" 
    max="102000" 
    required
  >
</div>


 <!-- Âge enfant -->
<div class="col-md-6">
  <label class="form-label poppins-regular-simucmg">Âge de l’enfant à garder</label>
  <div class="form-control-plaintext">0 à 3 ans</div>
  <input type="hidden" id="ageEnfant" name="ageEnfant" value="0-3">
</div>





<div class="col-md-6">
  <label for="heuresHebdo" class="form-label poppins-regular-simucmg">Heures de garde par semaine</label>
  <input type="number" step="0.01" class="simu-control styled-input" id="heuresHebdo" name="heuresHebdo" min="0">
</div>




  <!-- Taux horaire -->
  <div class="col-md-6">
    <label for="tauxHoraire" class="form-label poppins-regular-simucmg">Taux horaire net assmat (€)</label>
    <input type="number" step="0.01" class="simu-control" id="tauxHoraire" name="tauxHoraire" required>
  </div>



  <!-- Indemnités -->
  <div class="col-md-3">
    <label for="indemEntretien" class="form-label poppins-regular-simucmg">Indemnité d'entretien (€ / mois)</label>
    <input type="number" step="0.01" class="simu-control" id="indemEntretien" name="indemEntretien" required>
  </div>

  <div class="col-md-3">
    <label for="indemRepas" class="form-label poppins-regular-simucmg">Indemnité de repas (€ / mois)</label>
    <input type="number" step="0.01" class="simu-control" id="indemRepas" name="indemRepas" required>
  </div>




 
  <!-- Bouton unique -->
  <div class="col-12 mb-5 text-center">
    <button type="submit" class="btn custom-btn">Voir mon profil</button>
  </div>
</form>

<!-- Carte 3 -->
      <div class="col-12 mb-5">
        <div class="comparatif-card h-100 p-4">
          <h3 class="fs-5 fw-bold poppins-regular d-flex align-items-center mb-3">
            <span class="comparatif-icon-wrapper me-2">
              <img src="{{ '/images/simulateur/auto-simulateur-bretigny.svg' | url }}" class="bien-etre-icon" alt="Icône communication" loading="lazy">
            </span>
           Informations générées à partir de votre saisie
          </h3>
         <!-- Carte des calculs automatiques -->
<div class="col-12">
  <div class="comparatif-card h-100 p-4">
   

    <div class="row g-4">
      <!-- Taux horaire complet (calculé) -->
      <div class="col-md-4">
        <label for="tauxComplet" class="form-label poppins-regular-simucmg">Taux horaire complet CMG (€)</label>
        <input type="text" class="simu-auto-control" id="tauxComplet" name="tauxComplet" readonly>
        <div id="alertePlafondCMG" class="alert alert-warning mt-2 d-none"></div>
      </div>

<!-- Heures -->
<div class="col-md-4">
  <label for="heuresMensuelles" class="form-label poppins-regular-simucmg">Heures de garde par mois</label>
  <input type="text" class="simu-auto-control" id="heuresMensuelles" name="heuresMensuelles" readonly>
</div>


  <!-- Salaire net mensuel (calculé) -->
      <div class="col-md-4">
        <label for="salaireNet" class="form-label poppins-regular-simucmg">Salaire net mensuel (€)</label>
      <input type="text" class="simu-auto-control" id="salaireNet" name="salaireNet" readonly>
      </div>


    </div>
  </div>
</div>


        </div>
      </div>






<!-- Résultat -->
<div id="result-box" class="alert mt-4 d-none" role="alert">
  <div id="result-message"></div>
</div>

<!-- Baromètre visuel (affiché uniquement si CMG favorable) -->
<div id="barometre-wrapper" class="my-4 d-none">



  <!-- Titre -->
  <h5 class="poppins-regular-simulateur mb-5">Baromètre comparatif prix</h5>
  

  <!-- Baromètre -->
<div id="barometre" class="position-relative" style="height: 30px; background: linear-gradient(to right, #d8dd8e, #F79927); border-radius: 15px;">
  <div id="curseur">
    
      <img src="{{ '/images/simulateur/baby-nipple-simulateur.svg' | url }}" class="curseur-tetine" alt="Icône curseur têtine chez celine" />
  </div>
</div>

  <!-- Légende en dessous -->
  <div class="d-flex justify-content-between mt-5 px-1">
    <span class="poppins-regular-simucmg"><strong>Crèche PSU</strong></span>
  <span class="poppins-regular-simucmg"><strong>Micro-crèche PAJE</strong></span>
  </div>


<!-- Section simulateur (visible uniquement selon profil) -->
<div id="simulateur-additional" class="mt-4" style="display: none;">
  <h4>Estimation personnalisée</h4>
  <p>Formulaire ou éléments complémentaires ici…</p>
</div>







        </div>
      </div>
    </div>
  </div>
</section>





<div class="svg-banniere-background">
     <div class="svg-container">
    <img src="{{ '/images/simulateur/nuage-simu-exemples-pc.svg' | url }}" 
         class="nuages-bleus-curvy pc-svg" 
         alt="Illustration de nuages pour la présentation des exemples de contrats types sur PC"
         loading="lazy">
    
    <img src="{{ '/images/simulateur/nuage-simu-exemples-mobile.svg' | url }}" 
         class="nuages-bleus-curvy mobile-svg" 
         alt="Illustration de nuages pour la présentation des exemples de contrats types sur mobile"
         loading="lazy">
</div>






<section id="exemples-cout-reel-assistante-maternelle">
  <div class="container-service container-md">
    <h2 class="poppins-bold-service-title mb-5">EXEMPLES CONCRETS</h2>
 <h3 class="poppins-regular-simucmg mb-5">À contrat équivalent et pour un accueil personnalisé et promenades journalières, le montant du reste à charge dépend de la situation de chaque famille (revenus, nombre d’enfants à charge, etc.)</h3>
    <div class="row gy-4">
      <!-- Carte 1 -->
      <div class="col-12">
        <div class="comparatif-card h-100 p-4">
          <h3 class="fs-5 fw-bold poppins-regular d-flex align-items-center mb-3">
            <span class="comparatif-icon-wrapper me-2">
              <img src="{{ '/images/faq/book-and-magnifying-glass-svgrepo-com.svg' | url }}" class="bien-etre-icon" alt="Icône communication" loading="lazy">
            </span>
            Exemple
          </h3>
          <ul class="poppins-regular-comparatif">
        
           <li><strong>Contrat en année complète - 52s sur 4 jours - tarif 2025</strong></li>
            <li>En couple</li>
            <li>Ressources annuelles 2023 (€): 38000€.</li>
            <li>Nombre d’enfants à charge: 2.</li>
            <li>Heures de garde par semaine: 45h.</li>
            <li>Taux horaire net (€): 4,28.</li>
            <li>Indemnité d'entretien (€ / mois): 5,35€ X 18 jours = 96,3€.</li>
            <li>Indemnité de repas (€ / mois): 5,45€ X 18 jours = 98,1€.</li>
            <li><strong>Reste à charge Assistante Maternelle : 347€.</strong></li>
            <li><strong>Le reste à charge est comparable à celui d'une crèche PSU (Prestation de Service Unique).</strong></li>
          </ul>
        </div>
      </div>

      <!-- Carte 2 -->
      <div class="col-12">
        <div class="comparatif-card h-100 p-4">
          <h3 class="fs-5 fw-bold poppins-regular d-flex align-items-center mb-3">
            <span class="comparatif-icon-wrapper me-2">
              <img src="{{ '/images/faq/book-and-magnifying-glass-svgrepo-com.svg' | url }}" class="bien-etre-icon" alt="Icône communication" loading="lazy">
            </span>
            Exemple
          </h3>
          <ul class="poppins-regular-comparatif">
           <li><strong>Contrat en année complète - 52s sur 4 jours - tarif 2025</strong></li>
            <li>En couple</li>
            <li>Ressources annuelles 2023 (€): 70000€.</li>
            <li>Nombre d’enfants à charge: 1.</li>
            <li>Heures de garde par semaine: 45h.</li>
            <li>Taux horaire net (€): 4,28.</li>
            <li>Indemnité d'entretien (€ / mois): 5,35€ X 18 jours = 96,3€.</li>
            <li>Indemnité de repas (€ / mois): 5,45€ X 18 jours = 98,1€.</li>
            <li><strong>Reste à charge Assistante Maternelle : 782€.</strong></li>
            <li><strong>La différence mensuelle avec le reste à charge de la crèche PSU est de seulement 78€ et vous bénéficiez d'un accueil premium personnalisé.</strong></li>
          </ul>
        </div>
      </div>

      <!-- Carte 3 -->
      <div class="col-12">
        <div class="comparatif-card h-100 p-4">
          <h3 class="fs-5 fw-bold poppins-regular d-flex align-items-center mb-3">
            <span class="comparatif-icon-wrapper me-2">
              <img src="{{ '/images/faq/book-and-magnifying-glass-svgrepo-com.svg' | url }}" class="bien-etre-icon" alt="Icône communication" loading="lazy">
            </span>
            Exemple
          </h3>
          <ul class="poppins-regular-comparatif">
            <li><strong>Contrat en année complète - 52s sur 4 jours - tarif 2025</strong></li>
            <li>En couple</li>
            <li>Ressources annuelles 2023 (€): 90800€.</li>
            <li>Nombre d’enfants à charge: 2.</li>
            <li>Heures de garde par semaine: 45h.</li>
            <li>Taux horaire net (€): 4,28.</li>
            <li>Indemnité d'entretien (€ / mois): 5,35€ X 18 jours = 96,3€.</li>
            <li>Indemnité de repas (€ / mois): 5,45€ X 18 jours = 98,1€.</li>
            <li><strong>Reste à charge Assistante Maternelle : 828€.</strong></li>
            <li><strong>Vous bénéficiez d'un maintien de CMG de 201€, votre situation ne change pas avec la nouvelle reforme CMG.</strong></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>






<script>
  const seuilsCMG = {
    couple: [53119, 60659, 68119],
    mono: [74367, 84923, 95479]
  };

  const majorationParEnfant = {
    couple: 7540,
    mono: 10556
  };

  const seuilsHeures = {
    "0-3": 100,
    "3-6": 50,
    "fratrie-0-3": 150,
    "fratrie-3-6": 100
  };

  function calculSimulation(data) {
    const {
      situation, nbEnfants, handicap, revenuAnnuel, heuresMensuelles,
      tauxHoraireNet, salaireNet, indemEntretien, indemRepas
    } = data;

    const salaireComplet = salaireNet + indemEntretien + indemRepas;
    const tauxComplet = (salaireComplet * tauxHoraireNet) / salaireNet;
    const coutRef = 4.85;

    let tauxEffort;
    if (handicap && nbEnfants > 1) {
      tauxEffort = [0.000516, 0.000413, 0.000310, 0.000206][nbEnfants - 2];
    } else {
      const tableEffort = [0.000619, 0.000516, 0.000413, 0.000310];
      tauxEffort = nbEnfants >= 8 ? 0.000206 : tableEffort[Math.min(nbEnfants - 1, 3)];
    }

    const TEH = (tauxComplet / coutRef) * tauxEffort * 100;
    const revenusMensuels = revenuAnnuel / 12;
    const cmgRemunerationReduit = revenusMensuels > 8500;
    const resteChargeHoraire = (revenusMensuels * TEH) / 100;
    const resteChargeAssmat = resteChargeHoraire * heuresMensuelles;

    let resteChargeAssmatPlafonne;
if (salaireComplet && salaireComplet > 0) {
  resteChargeAssmatPlafonne = Math.min(resteChargeAssmat, salaireComplet);
} else {
  resteChargeAssmatPlafonne = Math.max(resteChargeAssmat, 0);
}

    const heuresHebdo = heuresMensuelles / 4.333;

    const tarifsCeline = [
      [25, 9.69], [26, 9.32], [27, 8.97], [28, 8.66], [29, 8.35],
      [30, 8.08], [31, 7.82], [32, 7.57], [33, 7.35], [34, 7.12],
      [35, 6.92], [36, 6.73], [37, 6.54], [38, 6.38], [39, 6.22],
      [40, 6.05], [41, 5.90], [42, 5.77], [43, 5.64], [44, 5.50],
      [45, 5.38], [46, 5.22], [Infinity, 5.22]
    ];

    const tarifCeline = Number.isFinite(heuresHebdo)
      ? (tarifsCeline.find(([limite]) => heuresHebdo < limite)?.[1] ?? 0)
      : 0;

    const coutAssmat = tarifCeline * heuresMensuelles;

const cmgAssmatCeline = cmgRemunerationReduit
  ? 0
  : Math.max(0, salaireComplet - resteChargeAssmat);


    const resteChargeAssmatCeline = Math.min(coutAssmat - cmgAssmatCeline, salaireComplet);



    const tarifsMicro = {
      1: [[25, 9.65], [35, 9.15], [40, 8.45], [50, 8.05], [Infinity, 7.65]],
      2: [[25, 9.80], [35, 9.30], [40, 8.75], [50, 8.30], [Infinity, 7.90]],
      3: [[25, 10], [35, 9.50], [40, 8.90], [50, 8.50], [Infinity, 8.10]]
    };

const seuilsCMGMicroCreche = {
  1: [23903, 53119],  // 1 enfant à charge
  2: [27295, 60659],  // 2 enfants
  3: [30687, 68199],  // 3 enfants
  extraParEnfant: [3392, 7540]  // [tranche1, tranche2]
};

function determineTrancheMicroCreche(revenuAnnuel, nbEnfants) {
  const baseTranche1 = seuilsCMGMicroCreche[nbEnfants]?.[0] ?? 
                       seuilsCMGMicroCreche[3][0] + (nbEnfants - 3) * seuilsCMGMicroCreche.extraParEnfant[0];
  const baseTranche2 = seuilsCMGMicroCreche[nbEnfants]?.[1] ?? 
                       seuilsCMGMicroCreche[3][1] + (nbEnfants - 3) * seuilsCMGMicroCreche.extraParEnfant[1];

  if (revenuAnnuel <= baseTranche1) return 1;
  else if (revenuAnnuel <= baseTranche2) return 2;
  else return 3;
}

// Détermination de la tranche en micro-crèche (selon revenu et nb enfants)
const tranche = determineTrancheMicroCreche(revenuAnnuel, nbEnfants);



    const tarifMC = tarifsMicro[tranche].find(([limite]) => heuresHebdo <= limite)[1];
    const coutMC = tarifMC * heuresMensuelles;
    const plafonds = { 1: 984.26, 2: 848.47, 3: 712.72 };
    const cmgMC = Math.min(coutMC * 0.85, plafonds[tranche]);
    const resteChargeMC = coutMC - cmgMC;

    const tarifHorairePSU = revenusMensuels * tauxEffort;
    const resteChargePSU = tarifHorairePSU * heuresMensuelles;

    return {
      resteAssmat: Math.round(resteChargeAssmatPlafonne),
      resteMicroCreche: Math.round(resteChargeMC),
      resteCrechePSU: Math.round(resteChargePSU),
      cmgAssmat: Math.round(cmgAssmatCeline),
      cmgMicroCreche: Math.round(cmgMC),
      tauxHoraireComplet: tauxComplet.toFixed(2),
      tauxEffortPourcent: TEH.toFixed(4)
    };
  }

  const heuresHebdoInput = document.getElementById("heuresHebdo");
  const heuresMensuellesInput = document.getElementById("heuresMensuelles");
  const tauxHoraireInput = document.getElementById("tauxHoraire");
  const salaireNetInput = document.getElementById("salaireNet");
  const indemEntretienInput = document.getElementById("indemEntretien");
const indemRepasInput = document.getElementById("indemRepas");


function updateTauxComplet() {
  const salaireNet = parseFloat(document.getElementById("salaireNet").value) || 0;
  const indemEntretien = parseFloat(document.getElementById("indemEntretien").value) || 0;
  const indemRepas = parseFloat(document.getElementById("indemRepas").value) || 0;
  const tauxHoraireNet = parseFloat(document.getElementById("tauxHoraire").value) || 0;

  const salaireComplet = salaireNet + indemEntretien + indemRepas;
  let tauxComplet = 0;
  if (salaireNet > 0) {
    tauxComplet = (salaireComplet * tauxHoraireNet) / salaireNet;
  }
  // Plafonnement affichage à 7,99
  if (tauxComplet > 7.99) {
    tauxComplet = 7.99;
  }
  document.getElementById("tauxComplet").value = tauxComplet.toFixed(2);

  // Message alerte
  const alerte = document.getElementById("alertePlafondCMG");
  if ((salaireNet > 0) && ((salaireComplet * tauxHoraireNet) / salaireNet > 7.99)) {
    alerte.textContent = "Le plafond CMG de 8 €/h est atteint. Le CMG reste versé, seule la part au-delà du plafond reste à votre charge. Pour une estimation exacte, consultez le simulateur officiel URSSAF (notre simulateur ne prend pas en compte les montants au-delà du plafond).";
    alerte.classList.remove("d-none");
  } else {
    alerte.textContent = "";
    alerte.classList.add("d-none");
  }
}


  function updateHeuresMensuellesEtSalaire() {
    const heuresHebdo = parseFloat(heuresHebdoInput.value) || 0;
    const tauxHoraire = parseFloat(tauxHoraireInput.value) || 0;

    const heuresMensuelles = (heuresHebdo * 52) / 12;
    const salaireNet = (tauxHoraire * heuresHebdo * 52) / 12;

    heuresMensuellesInput.value = heuresMensuelles.toFixed(2);
    salaireNetInput.value = salaireNet.toFixed(2);
    updateTauxComplet();
  }

  heuresHebdoInput.addEventListener("input", updateHeuresMensuellesEtSalaire);
  tauxHoraireInput.addEventListener("input", updateHeuresMensuellesEtSalaire);

  indemEntretienInput.addEventListener("input", updateTauxComplet);
indemRepasInput.addEventListener("input", updateTauxComplet);

  const form = document.getElementById("simulateur-form");
  const resultBox = document.getElementById("result-box");
  const barometre = document.getElementById("barometre-wrapper");
 const curseur = document.getElementById("curseur");

 

form.addEventListener("submit", function (e) {
  e.preventDefault(); // Toujours empêcher le rechargement natif du formulaire

  const tauxCompletAffiche = parseFloat(document.getElementById("tauxComplet").value);
  const alerte = document.getElementById("alertePlafondCMG");

  if (tauxCompletAffiche >= 7.99) {
    if (alerte) {
      alerte.textContent = "Le plafond CMG de 8 €/h est atteint. Le CMG reste versé, seule la part au-delà du plafond reste à votre charge. Pour une estimation exacte, consultez le simulateur officiel URSSAF (notre simulateur ne prend pas en compte les montants au-delà du plafond).";
    alerte.classList.remove("d-none");
  }
  // Masquer les anciens résultats pour éviter toute confusion
  resultBox.classList.add("d-none");
  resultBox.innerHTML = "";
  barometre.classList.add("d-none");
  return;
} else {
  if (alerte) {
    alerte.textContent = "";
    alerte.classList.add("d-none");
  }
}

  const typeFamille = document.querySelector("input[name='situation']:checked")?.value;
  const nbEnfants = parseInt(document.getElementById("nbEnfants").value, 10);
  const revenu = parseInt(document.getElementById("revenu").value, 10);
  const age = document.getElementById("ageEnfant").value;



  updateHeuresMensuellesEtSalaire();

  const heuresMensuelles = parseFloat(heuresMensuellesInput.value) || 0;
  const tauxHoraireNet = parseFloat(tauxHoraireInput.value) || 0;
  const salaireNet = parseFloat(salaireNetInput.value) || 0;
  const indemEntretien = parseFloat(document.getElementById("indemEntretien").value) || 0;
  const indemRepas = parseFloat(document.getElementById("indemRepas").value) || 0;
  const handicap = document.getElementById("handicap")?.checked || false;

  const baseSeuil = seuilsCMG[typeFamille][Math.max(0, Math.min(nbEnfants - 1, 2))] || 0;
  const enfantsSupp = Math.max(0, nbEnfants - 3);
  const seuilTotal = baseSeuil + (enfantsSupp * majorationParEnfant[typeFamille]);

  const revenuOK = revenu <= seuilTotal;
  const seuilHeures = seuilsHeures[age] || 0;
  const heuresOK = heuresMensuelles >= seuilHeures;
  const estGagnant = revenuOK && heuresOK;

 

  resultBox.classList.remove("d-none", "alert-success", "alert-warning", "alert-info");

 
  const resultats = calculSimulation({
    situation: typeFamille,
    nbEnfants,
    handicap,
    revenuAnnuel: revenu,
    heuresMensuelles,
    tauxHoraireNet,
    salaireNet,
    indemEntretien,
    indemRepas
  });

 const cmg = resultats.cmgAssmat;
const seuilCMG = { profil1: 200, profil2Min: 120 };
const restePSU = resultats.resteCrechePSU;
const resteMC = resultats.resteMicroCreche;
const resteAssmat = resultats.resteAssmat;

let profil;

if (
  (resteAssmat <= restePSU && cmg > seuilCMG.profil1 && estGagnant) ||
  (resteAssmat <= resteMC && cmg >= 529)
) {
  profil = 1; // profil optimal (fusionné avec ancien profil 2)
} else if (resteAssmat <= resteMC && cmg >= seuilCMG.profil2Min) {
  profil = 2; // aide partielle
} else {
  profil = 3; // aide standard
}


// Affichage selon le profil
if (profil === 1) {
  resultBox.classList.add("result-profil-1");
  resultBox.classList.add("poppins-regular-simucmg");
  resultBox.innerHTML = `
    Vous êtes <strong>éligible</strong> à un <strong>CMG très avantageux</strong> permettant un reste à charge comparable ou identique à celui d'une crèche subventionnée.<br><br>
    <strong>Estimation (avant crédit d'impôt):</strong><br>

<span class="bullet-dot bullet-green"></span>Reste à charge Crèche PSU : <strong>${restePSU} €</strong><br>
<span class="bullet-dot"></span>Reste à charge Assistante Maternelle : <strong>${resteAssmat} €</strong><br>
<span class="bullet-dot bullet-orange"></span>Reste à charge Micro-crèche PAJE : <strong>${resteMC} €</strong><br><br>

 <em>Grâce à ce niveau d’aide, vous pouvez choisir la solution la plus adaptée à votre famille, sans contrainte de budget.</em><br><br>


    <strong>CMG Mensuel :</strong><br>

    <img src="{{ '/images/faq/money-bag-svgrepo-com.svg' | url }}" class="checked-money" alt="icône tirelire">
    Assistante Maternelle : <strong>${cmg} €</strong><br>

    <img src="{{ '/images/faq/money-bag-svgrepo-com.svg' | url }}" class="checked-money" alt="icône tirelire">
    Micro-crèche PAJE : <strong>${resultats.cmgMicroCreche} €</strong><br><br>

<strong>Réduisez votre reste à charge :</strong>
    <br><a href="https://chubert91assmat.netlify.app/posts/entreprises/cesu-prefinances/" class="btn btn-action-primary mt-3 d-inline-block">
    Je découvre les CESU pré-financés ! →
    </a><br><br>

    En tant qu'assistante maternelle agréée, je m'engage à vous accompagner pas à pas, vous informer clairement et à offrir à votre enfant un accueil chaleureux, sécurisé et adapté à ses besoins :
    <br><a href="https://chubert91assmat.netlify.app/#avis" class="btn btn-action-primary mt-3 d-inline-block">
    <span class="etoiles">&#9733;&#9733;&#9733;&#9733;&#9733;</span> 100% de parents satisfaits →
    </a><br><br>
    N'hésitez pas à me contacter pour discuter ensemble de votre situation :
    <br><a href="/contact/" class="btn btn-action-primary mt-3 d-inline-block">
    Discutons ensemble de vos besoins →
    </a><br><br>


    <em>Ce niveau d’aide vous permet de profiter d’un accueil de qualité avec un tarif particulièrement compétitif chez une assistante maternelle agréée.</em>
  `;
} else if (profil === 2) {
  resultBox.classList.add("result-profil-2");
  resultBox.classList.add("poppins-regular-simucmg");
  resultBox.innerHTML = `
    Vous êtes <strong>éligible</strong> au CMG, mais son montant est limité (≥ 160 € et < 529 €).<br>
    Vous bénéficiez d’une aide partielle mais significative pour avoir accès à un accueil personnalisé.<br><br>
    <strong>Estimation (avant crédit d'impôt) :</strong><br>

<span class="bullet-dot bullet-green"></span>Reste à charge Crèche PSU : <strong>${restePSU} €</strong><br>
<span class="bullet-dot"></span>Reste à charge Assistante Maternelle : <strong>${resteAssmat} €</strong><br>
<span class="bullet-dot bullet-orange"></span>Reste à charge Micro-crèche PAJE : <strong>${resteMC} €</strong><br><br>

 <em>Vous pouvez ainsi choisir la solution la plus adaptée à votre famille, selon vos priorités.</em><br><br>

    <strong>CMG Mensuel :</strong><br>

    <img src="{{ '/images/faq/money-bag-svgrepo-com.svg' | url }}" class="checked-money" alt="icône tirelire">
    Assistante Maternelle : <strong>${cmg} €</strong><br>

    <img src="{{ '/images/faq/money-bag-svgrepo-com.svg' | url }}" class="checked-money" alt="icône tirelire">
    Micro-crèche PAJE : <strong>${resultats.cmgMicroCreche} €</strong><br><br>


<strong>Réduisez votre reste à charge :</strong>
    <br><a href="https://chubert91assmat.netlify.app/posts/entreprises/cesu-prefinances/" class="btn btn-action-primary mt-3 d-inline-block">
    Je découvre les CESU pré-financés ! →
    </a><br><br>

    En tant qu'assistante maternelle agréée, je m'engage à vous accompagner pas à pas, vous informer clairement et à offrir à votre enfant un accueil chaleureux, sécurisé et adapté à ses besoins :
    <br><a href="https://chubert91assmat.netlify.app/#avis" class="btn btn-action-primary mt-3 d-inline-block">
    <span class="etoiles">&#9733;&#9733;&#9733;&#9733;&#9733;</span> 100% de parents satisfaits →
    </a><br><br>
    N'hésitez pas à me contacter pour discuter ensemble de votre situation :
    <br><a href="/contact/" class="btn btn-action-primary mt-3 d-inline-block">
    Discutons ensemble de vos besoins →
    </a><br><br>

    <em>Votre profil est intermédiaire : l’aide reste limitée mais utile pour réduire les coûts d’accueil.</em>
  `;
} else if (profil === 3) {
  resultBox.classList.add("result-profil-3");
  resultBox.classList.add("poppins-regular-simucmg");
  resultBox.innerHTML = `
    <strong>Un accompagnement personnalisé pour votre enfant, avec le soutien du CMG</strong><br><br>
    
    <strong>Estimation (avant crédit d'impôt) :</strong><br>
    <span class="bullet-dot"></span>Reste à charge Assistante Maternelle : <strong>${resteAssmat} €</strong><br>
    
    <strong>CMG Mensuel :</strong><br>
    <img src="{{ '/images/faq/money-bag-svgrepo-com.svg' | url }}" class="checked-money" alt="icône tirelire">
    Assistante Maternelle : <strong>${cmg} €</strong><br>
    <img src="{{ '/images/faq/money-bag-svgrepo-com.svg' | url }}" class="checked-money" alt="icône tirelire">
    <strong>Une aide CMG est disponible selon vos revenus.</strong><br><br>
    
    <em>Le tarif d’une assistante maternelle peut être légèrement supérieur à celui d’une crèche, mais il s’accompagne d’un suivi individualisé et d’une grande flexibilité pour vous et votre enfant.</em><br><br>
    
    <strong>Réduisez votre reste à charge :</strong>
    <br><a href="https://chubert91assmat.netlify.app/posts/entreprises/cesu-prefinances/" class="btn btn-action-primary mt-3 d-inline-block">
    Je découvre les CESU pré-financés ! →
    </a><br><br>
    
    En tant qu’assistante maternelle agréée, je m’engage à vous accompagner pas à pas, vous informer clairement et à offrir à votre enfant un accueil chaleureux, sécurisé et adapté à ses besoins :
    <br><a href="https://chubert91assmat.netlify.app/#avis" class="btn btn-action-primary mt-3 d-inline-block">
    <span class="etoiles">&#9733;&#9733;&#9733;&#9733;&#9733;</span> 100% de parents satisfaits →
    </a><br><br>
    N’hésitez pas à me contacter pour discuter ensemble de votre situation :
    <br><a href="/contact/" class="btn btn-action-primary mt-3 d-inline-block">
    Discutons ensemble de vos besoins →
    </a>
  `;
}




const minVal = Math.min(restePSU, resteMC);
const maxVal = Math.max(restePSU, resteMC);

let positionPercent = 0;
if (resteAssmat <= minVal) {
  positionPercent = 0;
} else if (resteAssmat >= maxVal) {
  positionPercent = 100;
} else {
  positionPercent = ((resteAssmat - minVal) / (maxVal - minVal)) * 100;
}

curseur.style.left = `${positionPercent}%`;
if (profil === 3) {
  barometre.classList.add("d-none");
} else {
  barometre.classList.remove("d-none");
  curseur.style.left = `${positionPercent}%`;
}


 // SCROLL AUTOMATIQUE VERS LA FENÊTRE DE RÉSULTATS
  resultBox.scrollIntoView({
    behavior: "smooth",
    block: "center"
  });


});

</script>


